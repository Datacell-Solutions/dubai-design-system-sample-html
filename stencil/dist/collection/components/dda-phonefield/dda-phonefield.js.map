{"version":3,"file":"dda-phonefield.js","sourceRoot":"","sources":["../../../src/components/dda-phonefield/dda-phonefield.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, State, h, Host } from '@stencil/core';\r\nimport { CountriesList } from '../../assets/countries';\r\n\r\n@Component({\r\n  tag: 'dda-phonefield',\r\n  styleUrls: ['../../global/input.css', '../../global/global.css'],\r\n  shadow: false,\r\n})\r\nexport class DdaPhoneField {\r\n  @Prop() label: string;\r\n  @Prop() placeholder: string = 'Enter phone number';\r\n  @Prop() helper_text: string;\r\n  @Prop() validation_type?: string;\r\n  @Prop() error_message: string;\r\n  @Prop() disabled: boolean = false;\r\n  @Prop() size?: string;\r\n  @State() country_code: string = '+971';\r\n  @State() country_flag: string = 'https://flagcdn.com/w320/ae.png'; // Default UAE flag\r\n  @State() phone_number: string = '';\r\n  @State() is_focused: boolean = false;\r\n  @State() dropdown_open: boolean = false;\r\n  @State() countries: { code: string; flag: string }[] = [];\r\n  @Prop() custom_class: string;\r\n  @Prop() component_mode?: string; \r\n  @Prop() input_id?: string;\r\n  @Prop() aria_label: string;\r\n  @Prop() button_id?: string;\r\n  @Prop() button_aria_label: string;\r\n\r\n  // componentWillLoad() {\r\n  //   fetch('/path/to/countries.json')\r\n  //     .then(response => response.json())\r\n  //     .then(data => {\r\n  //       this.countries = data;\r\n  //     });\r\n  // }\r\n\r\n  componentWillLoad() {\r\n    this.countries = CountriesList;\r\n  }\r\n  toggleDropdown() {\r\n    this.dropdown_open = !this.dropdown_open;\r\n  }\r\n\r\n  selectCountry(country: { code: string; flag: string }) {\r\n    this.country_code = country.code;\r\n    this.country_flag = country.flag;\r\n    this.dropdown_open = false;\r\n  }\r\n\r\n  handleFocus() {\r\n    this.is_focused = true;\r\n  }\r\n\r\n  handleBlur() {\r\n    this.is_focused = false;\r\n  }\r\n\r\n  handlephonenumberChange(event: Event) {\r\n    const target = event.target as HTMLInputElement;\r\n    const targetvalue = target.value.replace(/[^0-9.]/g, '');\r\n    this.phone_number = targetvalue;\r\n    }\r\n\r\n  render() {\r\n    const inputClass = `${this.component_mode} ${this.size ? `dda-input-size-${this.size}` : ''} ${this.error_message ? `dda-error-message` : ''}  ${this.validation_type ? `dda-validation-${this.validation_type}` : ''}  ${this.is_focused ? 'dda-input-focus' : ''} ${this.phone_number ? 'dda-input-focus-filled' : '' }`;\r\n    return (\r\n      <Host>\r\n        <div class={`dda-input-container ${inputClass} ${this.custom_class} ${this.disabled ? 'dda-input-disabled' : ''}`}>\r\n          {this.label && <label htmlFor={this.input_id} class=\"dda-input-label\">{this.label}</label>}\r\n          <div class={`dda-input-field-group dda-phone-field`}>\r\n            <div class=\"dda-input-dropdown-btn\">\r\n              <button type=\"button\" class=\"dda-dropdown-select\" onClick={() => this.toggleDropdown()}>\r\n                <img src={this.country_flag} alt=\"\" width=\"20\" /> {this.country_code} <i class={`material-icons`}>{this.dropdown_open ? 'keyboard_arrow_down' : 'keyboard_arrow_down'}</i>\r\n              </button>\r\n              {this.dropdown_open && (\r\n                <div class=\"dda-input-dropdown-list\">\r\n                  {this.countries.map(country => (\r\n                    <button id={this.button_id} aria-label={this.button_aria_label} type=\"button\" class=\"dda-input-dropdown-item\" onClick={() => this.selectCountry(country)}>\r\n                      <img src={country.flag} alt=\"\" width=\"20\" /> {country.code}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n            <input\r\n              id={this.input_id}\r\n              aria-label={this.aria_label}\r\n              type=\"number\"\r\n              class={`dda-field-group-input`}\r\n              placeholder={this.placeholder}\r\n              inputmode='numeric'\r\n              pattern={\"[0-9]*\"}\r\n              value={this.phone_number}\r\n              onInput={this.handlephonenumberChange.bind(this)}\r\n              onFocus={this.handleFocus.bind(this)}\r\n              onBlur={this.handleBlur.bind(this)}\r\n              disabled={this.disabled}\r\n            />\r\n          </div>\r\n          {this.helper_text && !this.validation_type && <span class=\"dda-helper-text\">{this.helper_text}</span>}\r\n          {this.error_message && <span class=\"dda-error-message\">{this.error_message}</span>}\r\n        </div>\r\n      </Host>\r\n    );\r\n  }\r\n}\r\n"]}